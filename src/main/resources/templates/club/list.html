<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layouts/main-layout}" layout:fragment="content" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title>Club List</title>

</head>
<body>
<div class="container my-5">
    <h1 class="mb-4">모락크루 리스트</h1>


    <!-- 클럽 목록 -->
    <div class="row row-cols-1 row-cols-md-2 g-4" th:unless="${#lists.isEmpty(clubDTOList)}">
        <div class="col" th:each="club : ${clubDTOList}">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title" th:text="'타이틀 : '+ ${club.title}">Title</h5>
                    <!--이미지 파일 -->
                    <p class="card-text">
   <img th:if="${club.fileAttached==1}" th:src="@{|/upload/${club.storedFileName[0]}|}" class="img-fluid">
</p>


                    <!---->
                    <p class="card-text" th:text="'내용 : '+ ${club.content }">Content</p>
                    <p class="card-text"><strong>작성자:</strong> <span th:text="${club.hostName}">Host Name</span></p>
                    <p class="card-text"><strong>Location:</strong> <span th:text="${club.city + ' ' + club.district}">City District</span></p>
                    <p class="card-text"><strong>Theme:</strong> <span th:text="${club.theme != null ? club.theme : '미정'}">Theme</span></p>
                    <p class="card-text"><strong>Age Restriction:</strong> <span th:text="${club.ageRestriction != null ? club.ageRestriction + '세 이상' : '제한 없음'}">Age</span></p>
                    <p class="card-text"><small class="text-muted">Created: <span th:text="${#temporals.format(club.createdAt, 'yyyy-MM-dd HH:mm')}">Date</span></small></p>
                </div>
                <div class="card-footer">
                    <a th:href="@{/clubs/{id}(id=${club.id})}" class="btn btn-info btn-sm">상세보기</a>

                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- 목록이 비었을 때 -->
    <div th:if="${#lists.isEmpty(clubDTOList)}" class="alert alert-info">
        등록된 모임이 없습니다. 새 모임을 만들어 보세요!
    </div>
</div>
</body>
</html>