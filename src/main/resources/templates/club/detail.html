<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layouts/main-layout}" layout:fragment="content" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"><head>
    <title>Club Detail</title>

</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4" th:text="${clubDTO.title}">Club Title</h1>

    <!-- 모임 상세 정보 -->
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">크루 상세 보기</h5>
            <dl class="row">
                <dt class="col-sm-3">ID</dt>
                <dd class="col-sm-9" th:text="${clubDTO.id}">1</dd>


                <dt class="col-sm-3">Content</dt>
                <dd class="col-sm-9" th:text="${clubDTO.content != null ? clubDTO.content : '내용 없음'}">Content goes here</dd>

                <dt class="col-sm-3">Location</dt>
                <dd class="col-sm-9" th:text="${clubDTO.city + ' ' + (clubDTO.district != null ? clubDTO.district : '')}">City District</dd>

                <dt class="col-sm-3">Theme</dt>
                <dd class="col-sm-9" th:text="${clubDTO.theme != null ? clubDTO.theme : '미정'}">Theme</dd>

                <dt class="col-sm-3">Age Restriction</dt>
                <dd class="col-sm-9" th:text="${clubDTO.ageRestriction != null ? clubDTO.ageRestriction + '세 이상' : '제한 없음'}">Age</dd>

                <dt class="col-sm-3">Host</dt>
                <dd class="col-sm-9" th:text="${clubDTO.hostName}">Host Name (ID)</dd>

                <dt class="col-sm-3">Created At</dt>
                <dd class="col-sm-9" th:text="${#temporals.format(clubDTO.createdAt, 'yyyy-MM-dd HH:mm')}">Created Date</dd>

                <dt class="col-sm-3">Updated At</dt>
                <dd class="col-sm-9" th:text="${clubDTO.updatedAt != null ? #temporals.format(clubDTO.updatedAt, 'yyyy-MM-dd HH:mm') : '수정 없음'}">Updated Date</dd>
            </dl>
        </div>
        <div class="card-footer">
      <!-- 수정/삭제 버튼: 작성자만 볼 수 있도록 -->
               <div th:if="${#authentication.authenticated and #authentication.principal.siteUser.id == clubDTO.hostId}">
                   <a th:href="@{/clubs/update/{id}(id=${clubDTO.id})}" class="btn btn-warning btn-sm">수정하기</a>
                   <form th:action="@{/clubs/delete/{id}(id=${clubDTO.id})}" method="post" style="display: inline;">
                       <button type="submit" class="btn btn-danger btn-sm">삭제</button>
                   </form>
               </div>
            <a th:href="@{/clubs}" class="btn btn-secondary btn-sm">Back to List</a>
        </div>
    </div>
</div>
</body>
</html>