<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layouts/main-layout}" layout:fragment="content" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title>Club Update</title></head>
<body>
<div class="container mt-5">
    <h1>크루 상세정보 수정하기</h1>
    <form th:action="@{/clubs/update}" method="post" id="clubForm" class="needs-validation" novalidate>
        <!-- Hidden ID -->
        <input type="hidden" name="id" th:value="${clubUpdate.id}">

        <!-- Title -->
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" name="title" id="title" class="form-control" th:value="${clubUpdate.title}" required>
            <div class="invalid-feedback">제목을 입력해주세요.</div>
        </div>

        <!-- Content -->
        <div class="mb-3">
            <label for="content" class="form-label">Content</label>
            <textarea name="content" id="content" class="form-control" rows="4" th:text="${clubUpdate.content}" required></textarea>
        </div>

      <!-- image 다중파일은 multi  -->
                <div class="mb-3">
                    <label for="clubFile" class="form-label">사진 수정🍳</label>
                     <input type="file" name="clubFile" id="clubFile" class="form-control" required multiple>
                                <div class="invalid-feedback">사진을 등록해주세요</div>
                                <!-- 미리보기 영역 -->
                                            <div id="preview" class="mt-3 d-flex flex-wrap gap-3"></div>
                </div>


       <!-- City -->
               <div class="mb-3">
                   <label for="city" class="form-label">City (시)</label>
                   <select name="city" id="city" class="form-select" required>
                       <option value="" th:selected="${clubUpdate.city == null}">선택하세요</option>
                       <option value="서울시" th:selected="${clubUpdate.city == '서울시'}">서울시</option>
                       <option value="수원시" th:selected="${clubUpdate.city == '수원시'}">수원시</option>
                   </select>
                   <div class="invalid-feedback">도시를 선택해주세요.</div>
               </div>

               <!-- District -->
               <div class="mb-3">
                   <label for="district" class="form-label">District (군/구)</label>
                   <select name="district" id="district" class="form-select" required>
                       <option value="" th:selected="${clubUpdate.district == null}">선택하세요</option>
                   </select>
               </div>

       <!-- Age Restriction -->
               <div class="mb-3">
                   <label for="ageRestriction" class="form-label">Age Restriction</label>
                   <input type="number" name="ageRestriction" id="ageRestriction" class="form-control" th:value="${clubUpdate.ageRestriction}" placeholder="예: 최소 나이" required>
               </div>

               <!-- Theme -->
               <div class="mb-3">
                   <label for="theme" class="form-label">Theme (카테고리)</label>
                   <select name="theme" id="theme" class="form-select" required>
                       <option value="" th:selected="${clubUpdate.theme == null}">선택하세요</option>
                       <option value="액티비티" th:selected="${clubUpdate.theme == '액티비티'}">액티비티</option>
                       <option value="자기계발" th:selected="${clubUpdate.theme == '자기계발'}">자기계발</option>
                       <option value="취미" th:selected="${clubUpdate.theme == '취미'}">취미</option>
                       <option value="여행" th:selected="${clubUpdate.theme == '여행'}">여행</option>
                       <option value="문화/예술" th:selected="${clubUpdate.theme == '문화/예술'}">문화/예술</option>
                       <option value="푸드/드링크" th:selected="${clubUpdate.theme == '푸드/드링크'}">푸드/드링크</option>
                   </select>
               </div>



               <!-- Submit -->
               <button type="submit" class="btn btn-primary">수정하기</button>
               <a th:href="@{/clubs}" class="btn btn-secondary">Back to List</a>
           </form>
       </div>
    <th:block th:replace="~{layouts/main-layout :: club-scripts}" />

       </body>
       </html>